<div class="eav-dialog eav-no-scrollbar" *ngIf="viewModel$ | async as vm">
  <div class="eav-dialog-header">
    <div class="eav-dialog-header__title">
      Add Fields which Inherits Configuration<!-- i18n -->
    </div>
  </div>
  <div class="eav-dialog-content">
    <span>Pick original fields which we'll inherit from</span><!-- i18n -->
    <!-- <div class="eav-tables-div">
      <table mat-table [dataSource]="vm.shareableFields" style="max-width: 450px;" class="mat-elevation-z8 eav-fields-table-left">
        <ng-container matColumnDef="contentType">
          <th mat-header-cell *matHeaderCellDef> Content Type </th>
          <td mat-cell *matCellDef="let field"> {{field.ContentType.Name}} </td>
        </ng-container>
        
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let field"> {{field.StaticName}} </td>
        </ng-container>
        
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef> Type </th>
          <td mat-cell *matCellDef="let field"> {{field.Type}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedShareableFieldsColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedShareableFieldsColumns;"></tr>
      </table>

      <table mat-table [dataSource]="vm.selectedFields" style="max-width: 450px;" class="mat-elevation-z8 eav-fields-table-right">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let field"> {{field.StaticName}} </td>
        </ng-container>
        
        <ng-container matColumnDef="source">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let field"> {{ field.ContentType.Name }}/{{ field.StaticName }} ({{ field.Type }}) </td>
        </ng-container>
        
        <ng-container matColumnDef="remove">
          <th mat-header-cell *matHeaderCellDef> Type </th>
          <td mat-cell *matCellDef="let field"> <button mat-raised-button type="button" (click)="removeField(field)">Remove</button> </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedSelectedFieldsColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedSelectedFieldsColumns;"></tr>
      </table>
    </div> -->
    <div class="eav-cards-box">
      <mat-card class="eav-card">
        <mat-card-header class="eav-card-header">
          <mat-card-title>Shareable fields</mat-card-title>
          <mat-icon>share</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <mat-card *ngFor="let field of vm.shareableFields" class="eav-field-card" (click)="selectField(field)">
            <mat-card-content>
                <div class="eav-info-row">
                  <div class="eav-info-row__label">Content type:</div>
                  <div class="eav-info-row__value"><span>{{ field.ContentType.Name }}</span></div>
                </div>
                <div class="eav-info-row">
                  <div class="eav-info-row__label">Name:</div>
                  <div class="eav-info-row__value"><span>{{ field.StaticName }}</span></div>
                </div>
                <div class="eav-info-row">
                  <div class="eav-info-row__label">Type:</div>
                  <div class="eav-info-row__value"><span>{{ field.Type }}</span></div>
                </div>
            </mat-card-content>
          </mat-card>
        </mat-card-content>
      </mat-card>

      <mat-card class="eav-card">
        <mat-card-header class="eav-card-header">
          <mat-card-title>Selected Fields</mat-card-title>
          <mat-icon>menu</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <mat-card *ngFor="let field of vm.selectedFields" class="eav-field-card">
            <mat-card-content>
              <div class="eav-info-row">
                <div class="eav-info-row__label">Name:</div>
                <div class="eav-info-row__value">
                  <!-- TODO: @SDV Implement this better-->
                  <mat-form-field class="example-full-width">
                    <input matInput [(ngModel)]="field.StaticName">
                  </mat-form-field>
                </div>
              </div>
              <div class="eav-info-row">
                <div class="eav-info-row__label">Source:</div>
                <div class="eav-info-row__value"><span>{{ field.ContentType.Name }}/{{ field.StaticName }} ({{ field.Type }})</span></div>
              </div>
              <div class="eav-info-row eav-field-card-button">
                <button mat-raised-button type="button" (click)="removeField(field)">Remove</button>
              </div>
            </mat-card-content>
          </mat-card>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <mat-dialog-actions align="end">
    <button mat-raised-button type="button" (click)="closeDialog()">Cancel</button>
    <button mat-raised-button type="submit" color="accent" (click)="save()">
      Save
    </button>
  </mat-dialog-actions>
</div>