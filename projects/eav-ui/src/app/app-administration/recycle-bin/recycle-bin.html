<mat-card>
  <mat-card-header>
    <mat-card-title>
      <span class="mat-headline">Recycle Bin (Beta)</span>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <p class="mat-body-1">
      Here you can see and restore deleted items within this app.
    </p>
    <p class="mat-caption"><strong>Note:</strong> This feature is currently in beta and may not be fully stable. Use with caution.</p>

    <app-feature-info-box [featureNameId]="GoToRecycleBin.featureId"></app-feature-info-box>
    
    <h3 class="mat-subtitle-1">
      Deleted Items ({{ deletedEntities().length }} total)

      <!-- Indicator if feature is not active -->
      <app-feature-icon-with-dialog [featureNameId]="GoToRecycleBin.featureId"></app-feature-icon-with-dialog>
    </h3>

    
    <div class="recycle-bin-filters">
      <mat-form-field appearance="outline" color="accent" class="recycle-bin-filter">
        <mat-label>Filter by Content Type</mat-label>
        <mat-select [(value)]="selectedContentType">
          <mat-option value="">All Types</mat-option>
          @for (type of contentTypes(); track type.staticName) {
            <mat-option [value]="type.name">{{ type.title }}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" color="accent" class="recycle-bin-filter">
        <mat-label>Date range</mat-label>
        <mat-date-range-input [rangePicker]="dateRangePicker">
          <input matStartDate [(ngModel)]="dateRangeStart" placeholder="Start date" />
          <input matEndDate [(ngModel)]="dateRangeEnd" placeholder="End date" />
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="dateRangePicker"></mat-datepicker-toggle>
        <mat-date-range-picker #dateRangePicker></mat-date-range-picker>
      </mat-form-field>
    </div>

    <div>
      <ag-grid-angular
        class="ag-theme-material"
        style="width: 100%; min-height: 300px;"
        [rowData]="dataSourceData()"
        [gridOptions]="gridOptions"
        domLayout="autoHeight"
      ></ag-grid-angular>
    </div>

    <!-- Removed item history details view -->
  </mat-card-content>
</mat-card>
<router-outlet></router-outlet>
