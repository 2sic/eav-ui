<div
  class="container"
  appDragAndDrop
  [allowedFileTypes]="'zip'"
  (filesDropped)="filesDropped($event)"
>
  <app-grid-with-help
    [helpText]="uxHelpText()"
    [refresh]="refresh()"
    [rowLength]="extensions()?.length"
  >
    @if (extensions().length === 0) {
      <p>
        Create an extension by placing an <code>extension.json</code> file in the <code>app/extensions</code> folder.
      </p>
    } @else {
      <ag-grid-angular
        class="ag-theme-material"
        [rowData]="extensions()"
        [gridOptions]="gridOptions"
      />
    }
    <mat-dialog-actions
      class="eav-dialog-actions"
      align="end"
    >
      <eco-fab-speed-dial
      class="eav-eco-fab-speed-dial"
      [ngClass]="{ 'fab-opened': fabOpen() }"
      (openChange)="openChange($event)"
    >
      <eco-fab-speed-dial-trigger [spin]="true">
        <button mat-fab class="grid-fab">
          <mat-icon class="spin180">
            {{ fabOpen() ? 'close' : 'add' }}
          </mat-icon>
        </button>
      </eco-fab-speed-dial-trigger>
      <eco-fab-speed-dial-actions class="eav-eco-fab-speed-dial-actions">
        <button
          mat-mini-fab
          class="eav-eco-fab-speed-dial-action-button"
          label="Find more extensions"
          (click)="browseCatalog()"
        >
          <mat-icon>search</mat-icon>
        </button>
        <button
          mat-mini-fab
          class="eav-eco-fab-speed-dial-action-button"
          label="Import extension"
          (click)="importExtension()"
        >
          <mat-icon>cloud_upload</mat-icon>
        </button>
      </eco-fab-speed-dial-actions>
    </eco-fab-speed-dial>
    </mat-dialog-actions>
  </app-grid-with-help>
</div>

<router-outlet></router-outlet>
