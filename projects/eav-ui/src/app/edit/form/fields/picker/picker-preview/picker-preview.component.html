<ng-container *ngIf="templateVars$ | async as data">
  <app-picker-pill-preview *ngIf="data.selectedEntities.length > 1 && !data.freeTextMode" 
    [config]="config" 
    [group]="group">
  </app-picker-pill-preview>
  <app-picker-search *ngIf="data.selectedEntities.length < 2 && !data.freeTextMode"
    [pickerSourceAdapter]="pickerSourceAdapter" 
    [pickerStateAdapter]="pickerStateAdapter"
    [config]="config" 
    [group]="group" 
    [controlConfig]="controlConfig">
    <app-picker-toggle-text freeTextButtons 
      [pickerStateAdapter]="pickerStateAdapter"
      [controlStatusDisabled]="data.controlStatus.disabled"
      [allowText]="data.enableTextEntry">
    </app-picker-toggle-text>
  </app-picker-search>
  <app-picker-text *ngIf="data.freeTextMode"
    [pickerSourceAdapter]="pickerSourceAdapter" 
    [pickerStateAdapter]="pickerStateAdapter" 
    [config]="config"
    [group]="group">
    <!-- <app-picker-toggle-text freeTextButtons2 
      [pickerStateAdapter]="pickerStateAdapter"
      [controlStatusDisabled]="data.controlStatus.disabled" 
      [allowText]="data.enableTextEntry">
    </app-picker-toggle-text> -->
  </app-picker-text>
  <app-field-helper-text [config]="config" [group]="group"></app-field-helper-text>
</ng-container>