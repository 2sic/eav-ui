<ng-container *ngIf="viewModel$ | async as vm">

  <div fxLayoutAlign="end center" *ngIf="vm.currentLanguage !== vm.defaultLanguage">
    <div fxLayoutAlign="end center" class="shared-languages-container" [ngClass]="vm.translationStateClass">
      <div class="shared-languages mat-caption" [ngClass]="{ 'shared-languages--disabled': vm.disabled }">
        {{ vm.translationState.infoLabel ? (vm.translationState.infoLabel | translate:{ languages:
        vm.translationState.infoMessage }): '' }}
      </div>
      <button mat-icon-button [matMenuTriggerFor]="menu" [disabled]="vm.readOnly || vm.disableTranslation">
        <mat-icon class="translate-icon">translate</mat-icon>
      </button>
    </div>

    <mat-menu #menu="matMenu">
      <ng-template matMenuContent>
        <button mat-menu-item (click)="translate()"
          [ngClass]="{ 'menu-item-selected': vm.translationState.linkType === TranslationLinks.Translate }">
          {{ 'LangMenu.Translate' | translate }}
        </button>
        <button mat-menu-item (click)="openAutoTranslateMenuDialog(vm.translationState)"
          [ngClass]="{ 'menu-item-selected': vm.translationState.linkType === TranslationLinks.Translate }">
          {{ 'LangMenu.AutoTranslate' | translate }}
          <app-feature-icon-indicator [featureNameId]="'EditUiTranslateWithGoogle'"></app-feature-icon-indicator>
        </button>
        <button mat-menu-item (click)="dontTranslate()"
          [ngClass]="{ 'menu-item-selected': vm.translationState.linkType === TranslationLinks.DontTranslate }">
          {{ 'LangMenu.NoTranslate' | translate }}
        </button>
        <button mat-menu-item (click)="openTranslateMenuDialog(vm.translationState)"
          [ngClass]="{ 'menu-item-selected': vm.translationState.language !== '' }">
          {{ 'LangMenu.Link' | translate }}
        </button>
      </ng-template>
    </mat-menu>
  </div>

</ng-container>